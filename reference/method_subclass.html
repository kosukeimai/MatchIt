<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Subclassification — method_subclass • MatchIt</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Subclassification — method_subclass" />
<meta property="og:description" content="In matchit, setting method = &quot;subclass&quot; performs subclassification on the distance measure (i.e., propensity score). Treatment and control units are placed into subclasses based on quantiles of the propensity score in the treated group, in the control group, or overall, depending on the desired estimand. Weights are computed based on the proportion of treated units in each subclass. Subclassification implemented here does not rely on any other package.
This page details the allowable arguments with method = &quot;subclass&quot;. See matchit for an explanation of what each argument means in a general context and how it can be specified.
Below is how matchit is used for subclassification:
matchit(formula, data = NULL, method = &quot;subclass&quot;,
        distance = &quot;glm&quot;, link = &quot;logit&quot;,
        distance.options = list(), estimand = &quot;ATT&quot;,
        discard = &quot;none&quot;, reestimate = FALSE,
        s.weights = NULL, verbose = FALSE, ...)

" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MatchIt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MatchIt.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/matching-methods.html">Matching Methods</a>
    </li>
    <li>
      <a href="../articles/assessing-balance.html">Assessing Balance</a>
    </li>
    <li>
      <a href="../articles/estimating-effects.html">Estimating Effects After Matching</a>
    </li>
    <li>
      <a href="../articles/sampling-weights.html">Matching with Sampling Weights</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kosukeimai/MatchIt/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Subclassification</h1>
    
    <div class="hidden name"><code>method_subclass.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In <code><a href='matchit.html'>matchit</a></code>, setting <code>method = "subclass"</code> performs subclassification on the distance measure (i.e., propensity score). Treatment and control units are placed into subclasses based on quantiles of the propensity score in the treated group, in the control group, or overall, depending on the desired estimand. Weights are computed based on the proportion of treated units in each subclass. Subclassification implemented here does not rely on any other package.</p>
<p>This page details the allowable arguments with <code>method = "subclass"</code>. See <code><a href='matchit.html'>matchit</a></code> for an explanation of what each argument means in a general context and how it can be specified.</p>
<p>Below is how <code>matchit</code> is used for subclassification:</p><pre>
<span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>formula</span>, data <span class='op'>=</span> <span class='cn'>NULL</span>, method <span class='op'>=</span> <span class='st'>"subclass"</span>,
        distance <span class='op'>=</span> <span class='st'>"glm"</span>, link <span class='op'>=</span> <span class='st'>"logit"</span>,
        distance.options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, estimand <span class='op'>=</span> <span class='st'>"ATT"</span>,
        discard <span class='op'>=</span> <span class='st'>"none"</span>, reestimate <span class='op'>=</span> <span class='cn'>FALSE</span>,
        s.weights <span class='op'>=</span> <span class='cn'>NULL</span>, verbose <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>
</pre>

    </div>


    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>a two-sided <code><a href='https://rdrr.io/r/stats/formula.html'>formula</a></code> object containing the treatment and covariates to be used in creating the distance measure used in the subclassification.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>a data frame containing the variables named in <code>formula</code>. If not found in <code>data</code>, the variables will be sought in the environment.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>set here to <code>"subclass"</code>.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>the distance measure to be used. See <code><a href='distance.html'>distance</a></code> for allowable options. <code>distance = "mahalanobis"</code> is not allowed.</p></td>
    </tr>
    <tr>
      <th>link</th>
      <td><p>when <code>distance</code> is specified as a string, an additional argument controlling the link function used in estimating the distance measure. See <code><a href='distance.html'>distance</a></code> for allowable options with each option.</p></td>
    </tr>
    <tr>
      <th>distance.options</th>
      <td><p>a named list containing additional arguments supplied to the function that estimates the distance measure as determined by the argument to <code>distance</code>.</p></td>
    </tr>
    <tr>
      <th>estimand</th>
      <td><p>the target <code>estimand</code>. If <code>"ATT"</code>, the default, subclasses are formed based on quantiles of the distance measure in the treated group; if <code>"ATC"</code>, subclasses are formed based on quantiles of the distance measure in the control group; if <code>"ATE"</code>, subclasses are formed based on quantiles of the distance measure in the full sample. The estimand also controls how the subclassification weights are computed; see the Computing Weights section at <code><a href='matchit.html'>matchit</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>discard</th>
      <td><p>a string containing a method for discarding units outside a region of common support.</p></td>
    </tr>
    <tr>
      <th>reestimate</th>
      <td><p>if <code>discard</code> is not <code>"none"</code>, whether to re-estimate the propensity score in the remaining sample prior to subclassification.</p></td>
    </tr>
    <tr>
      <th>s.weights</th>
      <td><p>the variable containing sampling weights to be incorporated into propensity score models and balance statistics.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code>; whether information about the matching process should be printed to the console.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments that control the subclassification:</p><dl>
     <dt><code>subclass</code></dt><dd><p>either the number of subclasses desired or a vector of quantiles used to divide the distance measure into subclasses. Default is 6.</p></dd>
     <dt><code>min.n</code></dt><dd><p>the minimum number of units of each treatment group that are to be assigned each subclass. If the distance measure is divided in such a way that fewer than <code>min.n</code> units of a treatment group are assigned a given subclass, units from other subclasses will be reassigned to fill the deficient subclass. Default is 1.</p></dd>
  
</dl>
</td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="outputs"><a class="anchor" href="#outputs"></a>Outputs</h2>

    <p>All outputs described in <code><a href='matchit.html'>matchit</a></code> are returned with <code>method = "subclass"</code> except that <code>match.matrix</code> is excluded and two additional component, <code>q.cut</code> and <code>qn</code>, are included, containing a vector of the distance measure cutpoints used to define the subclasses and a matrix of the subclass sample sizes, respectively. Note that when <code>min.n &gt; 0</code>, the subclass assignments may not strictly obey the quantiles listed in <code>q.cut</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>After subclassification, effect estimates can be computed separately in the subclasses and combined, or a single marginal effect can be estimated by using the weights in the full sample. When using the weights, the method is sometimes referred to as marginal mean weighting through stratification (MMWS; Hong, 2010) or fine stratification weighting (Desai et al., 2017). The weights can be interpreted just like inverse probability weights.</p>
<p>Changing <code>min.n</code> can change the quality of the weights. Generally, a low <code>min.w</code> will yield better balance because subclasses only contain units with relatively similar distance values, but may yield higher variance because extreme weights can occur due to there being few members of a treatment group in some subclasses.</p>
<p>Note that subclassification weights can also be estimated using <span class="pkg">WeightIt</span>, which provides some additional methods for estimating propensity scores. Where propensity score-estimation methods overlap, both packages will yield the same weights.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>In a manuscript, you don't need to cite another package when using <code>method = "subclass"</code> because the subclassification is performed completely within <span class="pkg">MatchIt</span>. For example, a sentence might read:</p>
<p><em>Propensity score subclassification was performed using the MatchIt package (Ho, Imai, King, &amp; Stuart, 2011) in R.</em></p>
<p>It may be a good idea to cite Hong (2010) or Desai et al. (2017) if the treatment effect is estimated using the subclassification weights.</p>
<p>Desai, R. J., Rothman, K. J., Bateman, B. . T., Hernandez-Diaz, S., &amp; Huybrechts, K. F. (2017). A Propensity-score-based Fine Stratification Approach for Confounding Adjustment When Exposure Is Infrequent: Epidemiology, 28(2), 249–257. doi: <a href='https://doi.org/10.1097/EDE.0000000000000595'>10.1097/EDE.0000000000000595</a></p>
<p>Hong, G. (2010). Marginal mean weighting through stratification: Adjustment for selection bias in multilevel data. Journal of Educational and Behavioral Statistics, 35(5), 499–531. doi: <a href='https://doi.org/10.3102/1076998609359785'>10.3102/1076998609359785</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='matchit.html'>matchit</a></code> for a detailed explanation of the inputs and outputs of a call to <code>matchit</code>.</p>
<p><code><a href='method_full.html'>method_full</a></code> for optimal full matching, which is similar to subclassification except that the number of subclasses and subclass membership are chosen to optimize the within-subclass distance.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lalonde"</span><span class='op'>)</span>

<span class='co'># PS subclassification for the ATT with 7 subclasses</span>
<span class='va'>s.out1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                    <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                  method <span class='op'>=</span> <span class='st'>"subclass"</span>, subclass <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>
<span class='va'>s.out1</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: Subclassification (7 subclasses)
#&gt;  - distance: Propensity score
#&gt;              - estimated with logistic regression
#&gt;  - number of obs.: 614 (original), 614 (matched)
#&gt;  - target estimand: ATT
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>s.out1</span>, subclass <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, method = "subclass", subclass = 7)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.1822          1.7941     0.9211    0.3774
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6444
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; Summary of Balance by Subclass:
#&gt; 
#&gt; - Subclass 1
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.1141        0.0674          0.2120     1.0379    0.2771
#&gt; age              24.4815       28.6536         -0.5831     0.3615    0.1150
#&gt; educ             10.7407       10.2590          0.2396     0.4213    0.0401
#&gt; raceblack         0.0370        0.0030          0.0936          .    0.0340
#&gt; racehispan        0.2963        0.1506          0.6161          .    0.1457
#&gt; racewhite         0.6667        0.8464         -0.6064          .    0.1797
#&gt; nodegree          0.5556        0.5723         -0.0368          .    0.0167
#&gt; married           0.2593        0.5904         -0.8454          .    0.3311
#&gt; re74           3205.1533     6429.1274         -0.6598     1.0648    0.2177
#&gt; re75           1983.7216     2631.3105         -0.2012     0.9066    0.0980
#&gt;            eCDF Max
#&gt; distance     0.4934
#&gt; age          0.2446
#&gt; educ         0.1169
#&gt; raceblack    0.0340
#&gt; racehispan   0.1457
#&gt; racewhite    0.1797
#&gt; nodegree     0.0167
#&gt; married      0.3311
#&gt; re74         0.4266
#&gt; re75         0.2263
#&gt; 
#&gt; - Subclass 2
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.4522        0.3958          0.2561     0.8134    0.1707
#&gt; age              29.1154       29.5135         -0.0556     0.3486    0.1308
#&gt; educ              9.1538        9.7568         -0.2999     0.9233    0.0599
#&gt; raceblack         0.8846        0.7027          0.5003          .    0.1819
#&gt; racehispan        0.1154        0.2973         -0.7692          .    0.1819
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.6923        0.6757          0.0366          .    0.0166
#&gt; married           0.5000        0.5405         -0.1035          .    0.0405
#&gt; re74           6754.9455     5617.3241          0.2328     1.5744    0.0817
#&gt; re75           3312.9595     3257.5161          0.0172     1.5170    0.0581
#&gt;            eCDF Max
#&gt; distance     0.2994
#&gt; age          0.3129
#&gt; educ         0.1674
#&gt; raceblack    0.1819
#&gt; racehispan   0.1819
#&gt; racewhite    0.0000
#&gt; nodegree     0.0166
#&gt; married      0.0405
#&gt; re74         0.2453
#&gt; re75         0.1746
#&gt; 
#&gt; - Subclass 3
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5998        0.6097         -0.0451     1.2565    0.1421
#&gt; age              26.6923       25.9000          0.1107     0.2696    0.2119
#&gt; educ             10.3846        8.8000          0.7881     0.3682    0.1731
#&gt; raceblack         1.0000        1.0000          0.0000          .    0.0000
#&gt; racehispan        0.0000        0.0000          0.0000          .    0.0000
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.6923        0.5000          0.4230          .    0.1923
#&gt; married           0.5000        0.0000          1.2766          .    0.5000
#&gt; re74           2416.9731     1748.8415          0.1367     2.6567    0.1324
#&gt; re75           1350.8111     1004.3709          0.1076     1.8285    0.0677
#&gt;            eCDF Max
#&gt; distance     0.3615
#&gt; age          0.5077
#&gt; educ         0.3846
#&gt; raceblack    0.0000
#&gt; racehispan   0.0000
#&gt; racewhite    0.0000
#&gt; nodegree     0.1923
#&gt; married      0.5000
#&gt; re74         0.2769
#&gt; re75         0.2077
#&gt; 
#&gt; - Subclass 4
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.6582        0.6588         -0.0028     0.9551    0.0452
#&gt; age              22.2963       24.2941         -0.2792     0.2181    0.1053
#&gt; educ             10.4074       11.0588         -0.3240     0.5596    0.0787
#&gt; raceblack         1.0000        1.0000          0.0000          .    0.0000
#&gt; racehispan        0.0000        0.0000          0.0000          .    0.0000
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.4815        0.5294         -0.1054          .    0.0479
#&gt; married           0.0370        0.2353         -0.5062          .    0.1983
#&gt; re74            663.6473     1733.6054         -0.2190     0.1297    0.0617
#&gt; re75            498.2558     1882.9978         -0.4301     0.1094    0.1153
#&gt;            eCDF Max
#&gt; distance     0.1307
#&gt; age          0.1808
#&gt; educ         0.1765
#&gt; raceblack    0.0000
#&gt; racehispan   0.0000
#&gt; racewhite    0.0000
#&gt; nodegree     0.0479
#&gt; married      0.1983
#&gt; re74         0.1678
#&gt; re75         0.2048
#&gt; 
#&gt; - Subclass 5
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.7013        0.6979          0.0152     0.8887    0.0765
#&gt; age              24.3846       22.2941          0.2922     0.7142    0.1296
#&gt; educ             10.1154        9.8824          0.1159     1.3668    0.0637
#&gt; raceblack         1.0000        1.0000          0.0000          .    0.0000
#&gt; racehispan        0.0000        0.0000          0.0000          .    0.0000
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.7308        0.8235         -0.2040          .    0.0928
#&gt; married           0.0385        0.0000          0.0982          .    0.0385
#&gt; re74            932.1795      812.5195          0.0245     3.9223    0.0899
#&gt; re75           1551.4350      586.9098          0.2996    23.9287    0.0601
#&gt;            eCDF Max
#&gt; distance     0.2805
#&gt; age          0.3032
#&gt; educ         0.0928
#&gt; raceblack    0.0000
#&gt; racehispan   0.0000
#&gt; racewhite    0.0000
#&gt; nodegree     0.0928
#&gt; married      0.0385
#&gt; re74         0.2783
#&gt; re75         0.2014
#&gt; 
#&gt; - Subclass 6
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.7396        0.7425         -0.0135     1.4075    0.1214
#&gt; age              23.8846       22.4615          0.1989     0.6952    0.1058
#&gt; educ             10.3462       11.3846         -0.5165     0.4905    0.1202
#&gt; raceblack         1.0000        1.0000          0.0000          .    0.0000
#&gt; racehispan        0.0000        0.0000          0.0000          .    0.0000
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.9231        0.7692          0.3384          .    0.1538
#&gt; married           0.0000        0.0000          0.0000          .    0.0000
#&gt; re74            591.5328      517.2464          0.0152     2.0185    0.0545
#&gt; re75            974.8401      479.1179          0.1540     4.6722    0.0769
#&gt;            eCDF Max
#&gt; distance     0.2692
#&gt; age          0.3462
#&gt; educ         0.3077
#&gt; raceblack    0.0000
#&gt; racehispan   0.0000
#&gt; racewhite    0.0000
#&gt; nodegree     0.1538
#&gt; married      0.0000
#&gt; re74         0.1538
#&gt; re75         0.1923
#&gt; 
#&gt; - Subclass 7
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.7837        0.7774          0.0284     2.7433    0.1407
#&gt; age              29.8889       25.6667          0.5901     0.3002    0.2333
#&gt; educ             11.2222       10.6667          0.2763     6.5385    0.0679
#&gt; raceblack         1.0000        1.0000          0.0000          .    0.0000
#&gt; racehispan        0.0000        0.0000          0.0000          .    0.0000
#&gt; racewhite         0.0000        0.0000          0.0000          .    0.0000
#&gt; nodegree          0.8889        1.0000         -0.2444          .    0.1111
#&gt; married           0.0000        0.0000          0.0000          .    0.0000
#&gt; re74            190.2635      281.4813         -0.0187     1.3943    0.0889
#&gt; re75           1091.6910     1912.6611         -0.2550     2.5440    0.2189
#&gt;            eCDF Max
#&gt; distance     0.2963
#&gt; age          0.6667
#&gt; educ         0.1481
#&gt; raceblack    0.0000
#&gt; racehispan   0.0000
#&gt; racewhite    0.0000
#&gt; nodegree     0.1111
#&gt; married      0.0000
#&gt; re74         0.2222
#&gt; re75         0.7407
#&gt; 
#&gt; Sample Sizes by Subclass:
#&gt;           1  2  3  4  5  6  7 All
#&gt; Control 332 37 10 17 17 13  3 429
#&gt; Treated  27 26 26 27 26 26 27 185
#&gt; Total   359 63 36 44 43 39 30 614
#&gt; </div><div class='input'>
<span class='co'># PS subclassification for the ATE with 10 subclasses</span>
<span class='co'># and at least 2 units in each group per subclass</span>
<span class='va'>s.out2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='matchit.html'>matchit</a></span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                    <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                  method <span class='op'>=</span> <span class='st'>"subclass"</span>, subclass <span class='op'>=</span> <span class='fl'>10</span>,
                  estimand <span class='op'>=</span> <span class='st'>"ATE"</span>, min.n <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>s.out2</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: Subclassification (10 subclasses)
#&gt;  - distance: Propensity score
#&gt;              - estimated with logistic regression
#&gt;  - number of obs.: 614 (original), 614 (matched)
#&gt;  - target estimand: ATE
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>s.out2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, method = "subclass", estimand = "ATE", 
#&gt;     subclass = 10, min.n = 2)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.1822          1.7569     0.9211    0.3774
#&gt; age              25.8162       28.0303         -0.2419     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0448     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.6708          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.2774          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.4080          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2355          .    0.1114
#&gt; married           0.1892        0.5128         -0.7208          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.5958     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2870     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6444
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; Summary of Balance Across Subclasses
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.3104        0.2972          0.0585     1.0249    0.0454
#&gt; age              25.1099       27.1896         -0.2272     0.3247    0.0996
#&gt; educ             10.5836       10.3105          0.1106     0.5537    0.0332
#&gt; raceblack         0.4040        0.3898          0.0371          .    0.0142
#&gt; racehispan        0.0894        0.1233         -0.1139          .    0.0340
#&gt; racewhite         0.5066        0.4869          0.0498          .    0.0197
#&gt; nodegree          0.5194        0.6163         -0.2049          .    0.0969
#&gt; married           0.2688        0.4150         -0.3257          .    0.1462
#&gt; re74           2489.2647     4627.1084         -0.3614     0.5922    0.1342
#&gt; re75           1532.5437     2199.1568         -0.2047     0.9287    0.0962
#&gt;            eCDF Max
#&gt; distance     0.1674
#&gt; age          0.2203
#&gt; educ         0.0969
#&gt; raceblack    0.0142
#&gt; racehispan   0.0340
#&gt; racewhite    0.0197
#&gt; nodegree     0.0969
#&gt; married      0.1462
#&gt; re74         0.3399
#&gt; re75         0.1839
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; distance              96.7      -11.3      88.0     74.0
#&gt; age                    6.1       26.2     -22.5    -39.7
#&gt; educ                -147.1      -11.7       4.4     13.0
#&gt; raceblack             97.8          .      97.8     97.8
#&gt; racehispan            58.9          .      58.9     58.9
#&gt; racewhite             96.5          .      96.5     96.5
#&gt; nodegree              13.0          .      13.0     13.0
#&gt; married               54.8          .      54.8     54.8
#&gt; re74                  39.3      -14.3      40.3     24.0
#&gt; re75                  28.7        2.9      28.3     36.1
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.    185.  
#&gt; Matched (ESS)  332.11   42.66
#&gt; Matched        429.    185.  
#&gt; Unmatched        0.      0.  
#&gt; Discarded        0.      0.  
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Ho, Kosuke Imai, Gary King, Elizabeth Stuart, Noah Greifer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


