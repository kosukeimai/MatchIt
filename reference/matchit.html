<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Matching for Causal Inference — matchit • MatchIt</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Matching for Causal Inference — matchit" />
<meta property="og:description" content="matchit is the main function of MatchIt and performs pairing, subset selection, and subclassification with the aim of creating treatment and control groups balanced on included covariates. MatchIt implements the suggestions of Ho, Imai, King, and Stuart (2007) for improving parametric statistical models by preprocessing data with nonparametric matching methods.  MatchIt implements a wide range of sophisticated matching methods, making it possible to greatly reduce the dependence of causal inferences on hard-to-justify, but commonly made, statistical modeling assumptions. The software also easily fits into existing research practices since, after preprocessing with MatchIt, researchers can use whatever parametric model they would have used without MatchIt, but produce inferences with substantially more robustness and less sensitivity to modeling assumptions.
This page documents the overall use of matchit, but for specifics of how matchit works with individual matching methods, see the individual pages linked in the Details section below." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MatchIt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/MatchIt.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/assessing-balance.html">Assessing Balance</a>
    </li>
    <li>
      <a href="../articles/estimating-effects.html">Estimating Effects After Matching</a>
    </li>
    <li>
      <a href="../articles/matching-methods.html">Matching Methods</a>
    </li>
    <li>
      <a href="../articles/sampling-weights.html">Matching with Sampling Weights</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kosukeimai/MatchIt/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Matching for Causal Inference</h1>
    
    <div class="hidden name"><code>matchit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>matchit</code> is the main function of <span class="pkg">MatchIt</span> and performs pairing, subset selection, and subclassification with the aim of creating treatment and control groups balanced on included covariates. MatchIt implements the suggestions of Ho, Imai, King, and Stuart (2007) for improving parametric statistical models by preprocessing data with nonparametric matching methods.  MatchIt implements a wide range of sophisticated matching methods, making it possible to greatly reduce the dependence of causal inferences on hard-to-justify, but commonly made, statistical modeling assumptions. The software also easily fits into existing research practices since, after preprocessing with MatchIt, researchers can use whatever parametric model they would have used without MatchIt, but produce inferences with substantially more robustness and less sensitivity to modeling assumptions.</p>
<p>This page documents the overall use of <code>matchit</code>, but for specifics of how <code>matchit</code> works with individual matching methods, see the individual pages linked in the Details section below.</p>
    </div>

    <pre class="usage"><span class='fu'>matchit</span><span class='op'>(</span><span class='va'>formula</span>, data <span class='op'>=</span> <span class='cn'>NULL</span>, method <span class='op'>=</span> <span class='st'>"nearest"</span>,
        distance <span class='op'>=</span> <span class='st'>"glm"</span>, link <span class='op'>=</span> <span class='st'>"logit"</span>,
        distance.options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, estimand <span class='op'>=</span> <span class='st'>"ATT"</span>,
        exact <span class='op'>=</span> <span class='cn'>NULL</span>, mahvars <span class='op'>=</span> <span class='cn'>NULL</span>, discard <span class='op'>=</span> <span class='st'>"none"</span>,
        reestimate <span class='op'>=</span> <span class='cn'>FALSE</span>, s.weights <span class='op'>=</span> <span class='cn'>NULL</span>,
        replace <span class='op'>=</span> <span class='cn'>FALSE</span>, m.order <span class='op'>=</span> <span class='cn'>NULL</span>,
        caliper <span class='op'>=</span> <span class='cn'>NULL</span>, std.caliper <span class='op'>=</span> <span class='cn'>TRUE</span>, ratio <span class='op'>=</span> <span class='fl'>1</span>,
        verbose <span class='op'>=</span> <span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for matchit</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>a two-sided <code><a href='https://rdrr.io/r/stats/formula.html'>formula</a></code> object containing the treatment and covariates to be used in creating the distance measure used in the matching. This formula will be supplied to the functions that estimate the distance measure. The formula should be specified as <code>A ~ X1 + X2 + ...</code> where <code>A</code> represents the treatment variable and <code>X1</code> and <code>X2</code> are covariates.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>a data frame containing the variables named in <code>formula</code> and possible other arguments. If not found in <code>data</code>, the variables will be sought in the environment.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>the matching method to be used. The allowed methods are <code><a href='method_nearest.html'>"nearest"</a></code> for nearest neighbor matching (on the propensity score by default), <code><a href='method_optimal.html'>"optimal"</a></code> for optimal pair matching, <code><a href='method_full.html'>"full"</a></code> for optimal full matching, <code><a href='method_genetic.html'>"genetic"</a></code> for genetic matching, <code><a href='method_cem.html'>"cem"</a></code> for coarsened exact matching, <code><a href='method_exact.html'>"exact"</a></code> for exact matching, and <code><a href='method_subclass.html'>"subclass"</a></code> for subclassification. When set to <code>NULL</code>, no matching will occur, but propensity score estimation and common support restrictions will still occur if requested. See the linked pages for each method for more details on what these methods do, how the arguments below are used by each on, and what additional arguments are allowed.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>the distance measure to be used. Can be either a string containing the name of a distance measure or a vector of already-computed distance measures. The distance measures should be values whose pairwise difference is the distance between two units, e.g., propensity scores for propensity score matching. See <code><a href='distance.html'>distance</a></code> for allowable options. The default is <code>"glm"</code> for propensity scores estimated with logistic regression using <code><a href='https://rdrr.io/r/stats/glm.html'>glm</a></code>. Ignored for some methods; see individual methods pages for how the distance measure is used.</p></td>
    </tr>
    <tr>
      <th>link</th>
      <td><p>when <code>distance</code> is specified as a string, an additional argument controlling the link function used in estimating the distance measure. Allowable options depend on the specific <code>distance</code> value specified. See <code><a href='distance.html'>distance</a></code> for allowable options with each option. The default is <code>"logit"</code>, which, along with <code>distance = "glm"</code>, identifies the default measure as logistic regression propensity scores.</p></td>
    </tr>
    <tr>
      <th>distance.options</th>
      <td><p>a named list containing additional arguments supplied to the function that estimates the distance measure as determined by the argument to <code>distance</code>. See <code><a href='distance.html'>distance</a></code> for an example of its use.</p></td>
    </tr>
    <tr>
      <th>estimand</th>
      <td><p>a string containing the name of the target estimand desired. Can be one of <code>"ATT"</code> or <code>"ATC"</code>. Some methods accept <code>"ATE"</code> as well. Default is <code>"ATT"</code>. See Details and the individual methods pages for information on how this argument is used.</p></td>
    </tr>
    <tr>
      <th>exact</th>
      <td><p>for methods that allow it, for which variables exact matching should take place. Can be specified as a string containing the names of variables in <code>data</code> to be used or a one-sided formula with the desired variables on the right-hand side (e.g., <code>~ X3 + X4</code>). See the individual methods pages for information on whether and how this argument is used.</p></td>
    </tr>
    <tr>
      <th>mahvars</th>
      <td><p>for methods that allow it, for which variables Mahalanobis matching should take place when a distance measure other than <code>"mahalanobis"</code> is used. Usually used to perform Mahalanobis distance matching within propensity score calipers, where the propensity scores are computed using <code>formula</code> and <code>distance</code>. Can be specified as a string containing the names of variables in <code>data</code> to be used or a one-sided formula with the desired variables on the right-hand side (e.g., <code>~ X3 + X4</code>). See the individual methods pages for information on whether and how this argument is used.</p></td>
    </tr>
    <tr>
      <th>discard</th>
      <td><p>a string containing a method for discarding units outside a region of common support. When a propensity score is estimated or supplied to <code>distance</code>, the options are <code>"none"</code>, <code>"treated"</code>, <code>"control"</code>, or <code>"both"</code>. For <code>"none"</code>, no units are discarded for common support. Otherwise, units whose propensity scores fall outside the corresponding region are discarded. Can also be a <code>logical</code> vector where <code>TRUE</code> indicates the unit is to be discarded. Default is <code>"none"</code> for no common support restriction. See Details.</p></td>
    </tr>
    <tr>
      <th>reestimate</th>
      <td><p>if <code>discard</code> is not <code>"none"</code>, whether to re-estimate the propensity score in the remaining sample. Default is <code>FALSE</code> to use the propensity scores estimated in the original sample.</p></td>
    </tr>
    <tr>
      <th>s.weights</th>
      <td><p>an optional numeric vector of sampling weights to be incorporated into propensity score models and balance statistics. Can also be specified as a string containing the name of variable in <code>data</code> to be used or a one-sided formula with the variable on the right-hand side (e.g., <code>~ SW</code>). Not all propensity score models accept sampling weights; see <code><a href='distance.html'>distance</a></code> for information on which do and do not.</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>for methods that allow it, whether matching should be done with replacement (<code>TRUE</code>), where control units are allowed to be matched to several treated units, or without replacement (<code>FALSE</code>), where control units can only be matched to one treated unit each. See the individual methods pages for information on whether and how this argument is used. Default is <code>FALSE</code> for matching without replacement.</p></td>
    </tr>
    <tr>
      <th>m.order</th>
      <td><p>for methods that allow it, the order that the matching takes place. Allowable options depend on the matching method but include <code>"largest"</code>, where matching takes place in descending order of distance measures; <code>"smallest"</code>, where matching takes place in ascending order of distance measures; <code>"random"</code>, where matching takes place in a random order; and <code>"data"</code> where matching takes place based on the order of units in the data. When <code>m.order = "random"</code>, results may differ across different runs of the same code unless a seed is set and specified with <code><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></code>. See the individual methods pages for information on whether and how this argument is used. The default of <code>NULL</code> corresponds to <code>"largest"</code> when a propensity score is estimated or supplied and <code>"data"</code> otherwise.</p></td>
    </tr>
    <tr>
      <th>caliper</th>
      <td><p>for methods that allow it, the width(s) of the caliper(s) to use in matching. Should be a numeric vector with each value named according to the variable to which the caliper applies. To apply to the distance measure, the value should be unnamed. See the individual methods pages for information on whether and how this argument is used. The default is <code>NULL</code> for no caliper.</p></td>
    </tr>
    <tr>
      <th>std.caliper</th>
      <td><p><code>logical</code>; when a caliper is specified, whether the the caliper is in standard deviation units (<code>TRUE</code>) or raw units (<code>FALSE</code>). Can either be of length 1, applying to all calipers, or of length equal to the length of <code>caliper</code>. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>ratio</th>
      <td><p>for methods that allow it, how many control units should be matched to each treated unit in k:1 matching. Should be a single integer value. See the individual methods pages for information on whether and how this argument is used. The default is 1 for 1:1 matching.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p><code>logical</code>; whether information about the matching process should be printed to the console. What is printed depends on the matching method. Default is <code>FALSE</code> for no printing other than warnings.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to the functions used in the matching process. See the individual methods pages for information on what additional arguments are allowed for each method. Ignored for <code>print</code>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>a <code>matchit</code> object.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Details for the various matching methods can be found at the following help pages:</p><ul>
<li><p><code><a href='method_nearest.html'>method_nearest</a></code> for nearest neighbor matching</p></li>
<li><p><code><a href='method_optimal.html'>method_optimal</a></code> for optimal pair matching</p></li>
<li><p><code><a href='method_full.html'>method_full</a></code> for optimal full matching</p></li>
<li><p><code><a href='method_genetic.html'>method_genetic</a></code> for genetic matching</p></li>
<li><p><code><a href='method_cem.html'>method_cem</a></code> for coarsened exact matching</p></li>
<li><p><code><a href='method_exact.html'>method_exact</a></code> for exact matching</p></li>
<li><p><code><a href='method_subclass.html'>method_subclass</a></code> for subclassification</p></li>
</ul><p>The pages contain information on what the method does, which of the arguments above are allowed with them and how they are interpreted, and what additional arguments can be supplied to further tune the method. Note that the default method with no arguments supplied other than <code>formula</code> and <code>data</code> is 1:1 nearest neighbor matching without replacement on a propensity score estimated using a logistic regression of the treatment on the covariates. This is not the same default offered by other matching programs, such as those in <span class="pkg">Matching</span>, <code>teffects</code> in Stata, or <code>PROC PSMATCH</code> in SAS, so care should be taken if trying to replicate the results of those programs.</p>
<p>When <code>method = NULL</code>, no matching will occur, but any propensity score estimation and common support restriction will. This can be a simple way to estimate the propensity score for use in future matching specifications without having to reestimate it each time. The <code>matchit</code> output with no matching can be supplied to <code>summary</code> to examine balance prior to matching on any of the included covariates and on the propensity score if specified. All arguments other than <code>distance</code>, <code>discard</code>, and <code>reestimate</code> will be ignored.</p>
<p>See the <code><a href='distance.html'>distance</a></code> argument for details on the several ways to specify the <code>distance</code> and <code>link</code> arguments to estimate propensity scores and create distance measures.</p>
<p>When the treatment variable is not a <code>0/1</code> variable, it will be coerced to one and returned as such in the <code>matchit</code> output (see section Value, below). The following rules are used: 1) if <code>0</code> is one of the values, it will be considered the control and the other value the treated; otherwise, 2) if the variable is a factor, <code>levels(treat)[1]</code> will be considered control and the other variable the treated; otherwise, 3) <code>sort(unique(treat))[1]</code> will be considered control and the other value the treated. It is safest to ensure the treatment variable is a <code>0/1</code> variable.</p>
<p>The <code>discard</code> option implements a common support restriction. It can only be used when a distance measure is estimated or supplied, i.e., when <code>distance</code> is specified as something other than <code>"mahalanobis"</code>, and is ignored for some matching methods. When specified as <code>"treated"</code>, treated units whose distance measure is outside the range of distance measures of the control units will be discarded. When specified as <code>"control"</code>, control units whose distance measure is outside the range of distance measures of the treated units will be discarded. When specified as <code>"both"</code>, treated and controls units whose distance measure is outside the intersection of the range of distance measures of the treated units and the range of distance measures of the control units will be discarded. When <code>reestimate = TRUE</code> and <code>distance</code> corresponds to a propensity score-estimating function, the propensity scores are re-estimated in the remaining units prior to being used for matching or calipers.</p>
<p>Caution should be used when interpreting effects estimated with various values of <code>estimand</code>. Setting <code>estimand = "ATT"</code> doesn't necessarily mean the average treatment effect in the treated is being estimated; it just means that for matching methods, treated units will be untouched and given weights of 1 and control units will be matched to them (and the opposite for <code>estimand = "ATC"</code>). If a caliper is supplied or treated units are removed for common support or some other reason (e.g., lacking matches when using exact matching), the actual estimand targeted is not the ATT but the treatment effect in the matched sample. The argument to <code>estimand</code> simply triggers which units are matched to which, and for subclassification-based methods (exact matching, CEM, full matching, and subclassification), determines the formula used to compute the subclassification weights.</p>
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Computing Weights</h3>
<p>Matching weights are computed in one of two ways depending on whether matching was done with replacement or not.</p>
<p>For matching without replacement, each unit is assigned to a subclass, which represents the pair they are a part of (in the case of k:1 matching) or the subclass they belong to (in the case of exact matching, coarsened exact matching, full matching, or subclassification). The formula for computing the weights depends on the argument supplied to <code>estimand</code>. A new subclass "propensity score" (<code>p</code>) is computed as the proportion of units in each subclass that are in the treated group, and all units in that subclass are assigned that propensity score. Weights are then computed using the standard formulas for inverse probability weights: for the ATT, weights are 1 for the treated units and <code>p/(1-p)</code> for the control units; for the ATC, weights are <code>(1-p)/p</code> for the treated units and 1 for the control units; for the ATE, weights are <code>1/p</code> for the treated units and <code>1/(1-p)</code> for the control units.</p>
<p>For matching with replacement, units are not assigned to unique subclasses. For the ATT, each treated unit gets a weight of 1. Each control unit is weighted as the sum of the inverse of the number of control units matched to the same treated unit across its matches. For example, if a control unit was matched to a treated unit that had two other control units matched to it, and that same control was matched to a treated unit that had one other control unit matched to it, the control unit in question would get a weight of 1/3 + 1/2 = 5/6. For the ATC, the same is true with the treated and control labels switched. The weights are computed using the <code>match.matrix</code> component of the <code>matchit</code> output object.</p>
<p>In each treatment group, weights are divided by the mean of the nonzero weights in that treatment group to make the weights sum to the number of units in that treatment group. If sampling weights are included through the <code>s.weights</code> argument, they will be included in the <code>matchit</code> output object but not incorporated into the matching weights. When estimating a treatment effect, multiply the matching weights by the sampling weights.</p>


    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>When <code>method</code> is something other than <code>"subclass"</code>, a <code>matchit</code> object with the following components:</p>
<p></p>
<dt>match.matrix</dt><dd><p>a matrix containing the matches. The rownames correspond to the treated units and the values in each row are the names (or indices) of the control units matched to each treated unit. When treated units are matched to different numbers of control units (e.g., with exact matching or matching with a caliper), empty spaces will be filled with <code>NA</code>.</p></dd>
  <dt>subclass</dt><dd><p>a factor containing matching pair/stratum membership for each unit. Unmatched units will have a value of <code>NA</code>. Not included when <code>replace = TRUE</code>.</p></dd>
  <dt>weights</dt><dd><p>a numeric vector of estimated matching weights. Unmatched units will have a weight of zero.</p></dd>
  <dt>model</dt><dd><p>the fit object of the model used to estimate propensity scores when <code>distance</code> is specified and not <code>"mahalanobis"</code> or a numeric vector. When <code>reestimate = TRUE</code>, this is the model estimated after discarding units.</p></dd>
  <dt>X</dt><dd><p>a data frame of covariates mentioned in <code>formula</code>, <code>exact</code>, and <code>mahvars</code>.</p></dd>
  <dt>call</dt><dd><p>the <code>matchit()</code> call.</p></dd>
  <dt>info</dt><dd><p>information on the matching method and distance measures used.</p></dd>
  <dt>estimand</dt><dd><p>the argument supplied to <code>estimand</code>.</p></dd>
  <dt>formula</dt><dd><p>the <code>formula</code> supplied.</p></dd>
  <dt>treat</dt><dd><p>a vector of treatment status converted to zeros (0) and ones (1) if not already in that format.</p></dd>
  <dt>distance</dt><dd><p>a vector of distance values (i.e., propensity scores) when <code>distance</code> is specified and not <code>"mahalanobis"</code>.</p></dd>
  <dt>discarded</dt><dd><p>a logical vector denoting whether each observation was discarded (<code>TRUE</code>) or not (<code>FALSE</code>) by the argument to <code>discard</code>.</p></dd>
  <dt>s.weights</dt><dd><p>the vector of sampling weights supplied to the <code>s.weights</code> argument, if any.</p></dd>
  <dt>exact</dt><dd><p>a one-sided formula containing the variables, if any, supplied to <code>exact</code>.</p></dd>
  <dt>mahvars</dt><dd><p>a one-sided formula containing the variables, if any, supplied to <code>mahvars</code>.</p></dd>
  <dt>nn</dt><dd><p>a matrix of the sample sizes of the treated and control groups before and after matching. See <code><a href='summary.matchit.html'>summary.matchit</a></code> for details.</p></dd>

When method = "subclass", a matchit.subclass object with the same components as above except that match.matrix is excluded and two additional components, q.cut and qn, are included, containing a vector of the distance measure cutpoints used to define the subclasses and a matrix of the subclass sample sizes, respectively. See <a href='method_subclass.html'>method_subclass</a> for details.

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ho, D. E., Imai, K., King, G., &amp; Stuart, E. A. (2007). Matching as Nonparametric Preprocessing for Reducing Model Dependence in Parametric Causal Inference. Political Analysis, 15(3), 199–236. doi: <a href='https://doi.org/10.1093/pan/mpl013'>10.1093/pan/mpl013</a></p>
<p>Ho, D. E., Imai, K., King, G., &amp; Stuart, E. A. (2011). MatchIt: Nonparametric Preprocessing for Parametric Causal Inference. Journal of Statistical Software, 42(8). doi: <a href='https://doi.org/10.18637/jss.v042.i08'>10.18637/jss.v042.i08</a></p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Daniel Ho <a href='mailto:dho@law.stanford.edu'>dho@law.stanford.edu</a>; Kosuke Imai <a href='mailto:imai@harvard.edu'>imai@harvard.edu</a>; Gary King <a href='mailto:king@harvard.edu'>king@harvard.edu</a>; Elizabeth Stuart <a href='mailto:estuart@jhsph.edu'>estuart@jhsph.edu</a></p>
<p>Version 4.0.0 update by Noah Greifer <a href='mailto:noah.greifer@gmail.com'>noah.greifer@gmail.com</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='summary.matchit.html'>summary.matchit</a></code> for balance assessment after matching. <code><a href='plot.matchit.html'>plot.matchit</a></code> for plots of covariate balance and propensity score overlap after matching.</p>
<p><code><a href='../articles/MatchIt.html'>vignette("MatchIt")</a></code> for an introduction to matching with MatchIt; <code><a href='../articles/matching-methods.html'>vignette("matching-methods")</a></code> for descriptions of the variety of matching methods and options available; <code><a href='../articles/assessing-balance.html'>vignette("assessing-balance")</a></code> for information on assessing the quality of a matching specification; <code><a href='../articles/estimating-effects.html'>vignette("estimating-effects")</a></code> for instructions on how to estimate treatment effects after matching; and <code><a href='../articles/sampling-weights.html'>vignette("sampling-weights")</a></code> for a guide to using <span class="pkg">MatchIt</span> with sampling weights.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lalonde"</span><span class='op'>)</span>

<span class='co'># Default: 1:1 NN PS matching w/o replacement</span>

<span class='va'>m.out1</span> <span class='op'>&lt;-</span> <span class='fu'>matchit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                   <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span><span class='op'>)</span>
<span class='va'>m.out1</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: 1:1 nearest neighbor matching without replacement
#&gt;  - distance: Propensity score
#&gt;              - estimated with logistic regression
#&gt;  - number of obs.: 614 (original), 370 (matched)
#&gt;  - target estimand: ATT
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.1822          1.7941     0.9211    0.3774
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6444
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; 
#&gt; Summary of Balance for Matched Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.3629          0.9739     0.7566    0.1321
#&gt; age              25.8162       25.3027          0.0718     0.4568    0.0847
#&gt; educ             10.3459       10.6054         -0.1290     0.5721    0.0239
#&gt; raceblack         0.8432        0.4703          1.0259          .    0.3730
#&gt; racehispan        0.0595        0.2162         -0.6629          .    0.1568
#&gt; racewhite         0.0973        0.3135         -0.7296          .    0.2162
#&gt; nodegree          0.7081        0.6378          0.1546          .    0.0703
#&gt; married           0.1892        0.2108         -0.0552          .    0.0216
#&gt; re74           2095.5737     2342.1076         -0.0505     1.3289    0.0469
#&gt; re75           1532.0553     1614.7451         -0.0257     1.4956    0.0452
#&gt;            eCDF Max Std. Pair Dist.
#&gt; distance     0.4216          0.9740
#&gt; age          0.2541          1.3938
#&gt; educ         0.0757          1.2474
#&gt; raceblack    0.3730          1.0259
#&gt; racehispan   0.1568          1.0743
#&gt; racewhite    0.2162          0.8390
#&gt; nodegree     0.0703          1.0106
#&gt; married      0.0216          0.8281
#&gt; re74         0.2757          0.7965
#&gt; re75         0.2054          0.7381
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; distance              45.7     -239.6      65.0     34.6
#&gt; age                   76.8        4.6      -4.2    -61.1
#&gt; educ                -134.8       20.4      31.2     32.1
#&gt; raceblack             41.8          .      41.8     41.8
#&gt; racehispan           -89.5          .     -89.5    -89.5
#&gt; racewhite             61.2          .      61.2     61.2
#&gt; nodegree              36.9          .      36.9     36.9
#&gt; married               93.3          .      93.3     93.3
#&gt; re74                  93.0       56.8      79.1     38.3
#&gt; re75                  91.2     -800.7      66.3     28.6
#&gt; 
#&gt; Sample Sizes:
#&gt;           Control Treated
#&gt; All           429     185
#&gt; Matched       185     185
#&gt; Unmatched     244       0
#&gt; Discarded       0       0
#&gt; </div><div class='input'>
<span class='co'># 1:1 NN Mahalanobis distance matching w/ replacement and</span>
<span class='co'># exact matching on married and race</span>

<span class='va'>m.out2</span> <span class='op'>&lt;-</span> <span class='fu'>matchit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                   <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                   distance <span class='op'>=</span> <span class='st'>"mahalanobis"</span>, replace <span class='op'>=</span> <span class='cn'>TRUE</span>,
                   exact <span class='op'>=</span> <span class='op'>~</span> <span class='va'>married</span> <span class='op'>+</span> <span class='va'>race</span><span class='op'>)</span>
<span class='va'>m.out2</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: 1:1 nearest neighbor matching with replacement
#&gt;  - distance: Mahalanobis
#&gt;  - number of obs.: 614 (original), 263 (matched)
#&gt;  - target estimand: ATT
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, distance = "mahalanobis", exact = ~married + 
#&gt;     race, replace = TRUE)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt;            eCDF Max
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; 
#&gt; Summary of Balance for Matched Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; age              25.8162       24.8973          0.1284     0.8265    0.0330
#&gt; educ             10.3459       10.5784         -0.1156     0.9046    0.0179
#&gt; raceblack         0.8432        0.8432          0.0000          .    0.0000
#&gt; racehispan        0.0595        0.0595         -0.0000          .    0.0000
#&gt; racewhite         0.0973        0.0973          0.0000          .    0.0000
#&gt; nodegree          0.7081        0.5892          0.2616          .    0.1189
#&gt; married           0.1892        0.1892          0.0000          .    0.0000
#&gt; re74           2095.5737     1780.4016          0.0645     1.8106    0.0429
#&gt; re75           1532.0553     1161.2419          0.1152     2.0101    0.0258
#&gt;            eCDF Max Std. Pair Dist.
#&gt; age          0.1676          0.3400
#&gt; educ         0.1189          0.3038
#&gt; raceblack    0.0000          0.0000
#&gt; racehispan   0.0000          0.0000
#&gt; racewhite    0.0000          0.0000
#&gt; nodegree     0.1189          0.3329
#&gt; married      0.0000          0.0000
#&gt; re74         0.2000          0.2483
#&gt; re75         0.0811          0.2086
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; age                   58.5       76.8      59.5     -6.2
#&gt; educ                -110.3       85.7      48.4     -6.8
#&gt; raceblack            100.0          .     100.0    100.0
#&gt; racehispan           100.0          .     100.0    100.0
#&gt; racewhite            100.0          .     100.0    100.0
#&gt; nodegree              -6.8          .      -6.8     -6.8
#&gt; married              100.0          .     100.0    100.0
#&gt; re74                  91.1        9.7      80.9     55.3
#&gt; re75                  60.3    -1462.3      80.8     71.8
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.       185
#&gt; Matched (ESS)   34.96     185
#&gt; Matched         78.       185
#&gt; Unmatched      351.         0
#&gt; Discarded        0.         0
#&gt; </div><div class='input'>
<span class='co'># 2:1 NN Mahalanobis distance matching within caliper defined</span>
<span class='co'># by a probit pregression PS</span>

<span class='va'>m.out3</span> <span class='op'>&lt;-</span> <span class='fu'>matchit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                   <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                   distance <span class='op'>=</span> <span class='st'>"glm"</span>, link <span class='op'>=</span> <span class='st'>"probit"</span>,
                   mahvars <span class='op'>=</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>,
                   caliper <span class='op'>=</span> <span class='fl'>.1</span>, ratio <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='va'>m.out3</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: 2:1 nearest neighbor matching without replacement
#&gt;  - distance: Mahalanobis [matching]
#&gt;              Propensity score [caliper]
#&gt;              - estimated with probit regression
#&gt;  - caliper: &lt;distance&gt; (0.029)
#&gt;  - number of obs.: 614 (original), 257 (matched)
#&gt;  - target estimand: ATT
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, distance = "glm", link = "probit", 
#&gt;     mahvars = ~age + educ + re74 + re75, caliper = 0.1, ratio = 2)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5773        0.1817          1.8276     0.8777    0.3774
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6413
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; 
#&gt; Summary of Balance for Matched Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5113        0.4932          0.0835     1.0779    0.0253
#&gt; age              26.0721       24.9324          0.1593     0.4302    0.0931
#&gt; educ             10.4144       10.3514          0.0314     0.6279    0.0171
#&gt; raceblack         0.7387        0.7252          0.0372          .    0.0135
#&gt; racehispan        0.0991        0.0946          0.0190          .    0.0045
#&gt; racewhite         0.1622        0.1802         -0.0608          .    0.0180
#&gt; nodegree          0.6667        0.6396          0.0594          .    0.0270
#&gt; married           0.1892        0.2297         -0.1035          .    0.0405
#&gt; re74           3016.7936     2277.2506          0.1513     1.8730    0.0565
#&gt; re75           2023.1731     1525.9838          0.1544     2.0215    0.0434
#&gt;            eCDF Max Std. Pair Dist.
#&gt; distance     0.1441          0.0862
#&gt; age          0.3198          0.9477
#&gt; educ         0.0586          0.7324
#&gt; raceblack    0.0135          0.0565
#&gt; racehispan   0.0045          0.4924
#&gt; racewhite    0.0180          0.3236
#&gt; nodegree     0.0270          0.5725
#&gt; married      0.0405          0.4722
#&gt; re74         0.2117          0.5512
#&gt; re75         0.1081          0.5885
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; distance              95.4       42.5      93.3     77.5
#&gt; age                   48.5       -2.7     -14.5   -102.8
#&gt; educ                  42.9       33.7      50.8     47.4
#&gt; raceblack             97.9          .      97.9     97.9
#&gt; racehispan            94.6          .      94.6     94.6
#&gt; racewhite             96.8          .      96.8     96.8
#&gt; nodegree              75.7          .      75.7     75.7
#&gt; married               87.5          .      87.5     87.5
#&gt; re74                  79.0        4.6      74.9     52.6
#&gt; re75                  46.8    -1474.9      67.6     62.4
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.       185
#&gt; Matched (ESS)  131.78     111
#&gt; Matched        146.       111
#&gt; Unmatched      283.        74
#&gt; Discarded        0.         0
#&gt; </div><div class='input'>
<span class='co'># Optimal full PS matching for the ATE within calipers on</span>
<span class='co'># PS, age, and educ</span>

<span class='va'>m.out4</span> <span class='op'>&lt;-</span> <span class='fu'>matchit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                   <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                   method <span class='op'>=</span> <span class='st'>"full"</span>, estimand <span class='op'>=</span> <span class='st'>"ATE"</span>,
                   caliper <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>.1</span>, age <span class='op'>=</span> <span class='fl'>2</span>, educ <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,
                   std.caliper <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>TRUE</span>, <span class='cn'>FALSE</span>, <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>m.out4</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: Optimal full matching
#&gt;  - distance: Propensity score [caliper]
#&gt;              - estimated with logistic regression
#&gt;  - caliper: &lt;distance&gt; (0.029), age (2), educ (1)
#&gt;  - number of obs.: 614 (original), 314 (matched)
#&gt;  - target estimand: ATE
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>m.out4</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, method = "full", estimand = "ATE", 
#&gt;     caliper = c(0.1, age = 2, educ = 1), std.caliper = c(TRUE, 
#&gt;         FALSE, FALSE))
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.1822          1.7569     0.9211    0.3774
#&gt; age              25.8162       28.0303         -0.2419     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0448     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.6708          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.2774          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.4080          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2355          .    0.1114
#&gt; married           0.1892        0.5128         -0.7208          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.5958     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2870     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6444
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; 
#&gt; Summary of Balance for Matched Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.3515        0.3475          0.0176     1.0152    0.0145
#&gt; age              22.4217       22.0276          0.0431     0.8438    0.0155
#&gt; educ             10.7009       10.6448          0.0227     1.0746    0.0102
#&gt; raceblack         0.4618        0.4586          0.0083          .    0.0032
#&gt; racehispan        0.1465        0.1079          0.1294          .    0.0386
#&gt; racewhite         0.3917        0.4335         -0.1055          .    0.0418
#&gt; nodegree          0.5792        0.5823         -0.0066          .    0.0031
#&gt; married           0.2862        0.2673          0.0422          .    0.0189
#&gt; re74           2687.3378     2948.8704         -0.0442     1.0844    0.0401
#&gt; re75           1444.8728     1750.7094         -0.0939     1.2107    0.0528
#&gt;            eCDF Max Std. Pair Dist.
#&gt; distance     0.0625          0.0449
#&gt; age          0.1091          0.1233
#&gt; educ         0.0557          0.2067
#&gt; raceblack    0.0032          0.0325
#&gt; racehispan   0.0386          0.5009
#&gt; racewhite    0.0418          0.3666
#&gt; nodegree     0.0031          0.2018
#&gt; married      0.0189          0.5267
#&gt; re74         0.1920          0.5462
#&gt; re75         0.1508          0.6766
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; distance              99.0       81.6      96.2     90.3
#&gt; age                   82.2       79.3      81.0     30.8
#&gt; educ                  49.2       89.7      70.6     50.0
#&gt; raceblack             99.5          .      99.5     99.5
#&gt; racehispan            53.3          .      53.3     53.3
#&gt; racewhite             92.5          .      92.5     92.5
#&gt; nodegree              97.2          .      97.2     97.2
#&gt; married               94.2          .      94.2     94.2
#&gt; re74                  92.6       87.7      82.2     57.1
#&gt; re75                  67.3     -327.8      60.7     47.6
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.    185.  
#&gt; Matched (ESS)  137.58   40.02
#&gt; Matched        203.    111.  
#&gt; Unmatched      226.     74.  
#&gt; Discarded        0.      0.  
#&gt; </div><div class='input'>
<span class='co'># Subclassification on a logistic PS with 10 subclasses after</span>
<span class='co'># discarding controls outside common support of PS</span>

<span class='va'>s.out1</span> <span class='op'>&lt;-</span> <span class='fu'>matchit</span><span class='op'>(</span><span class='va'>treat</span> <span class='op'>~</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>educ</span> <span class='op'>+</span> <span class='va'>race</span> <span class='op'>+</span> <span class='va'>nodegree</span> <span class='op'>+</span>
                   <span class='va'>married</span> <span class='op'>+</span> <span class='va'>re74</span> <span class='op'>+</span> <span class='va'>re75</span>, data <span class='op'>=</span> <span class='va'>lalonde</span>,
                   method <span class='op'>=</span> <span class='st'>"subclass"</span>, distance <span class='op'>=</span> <span class='st'>"glm"</span>,
                   discard <span class='op'>=</span> <span class='st'>"control"</span>, subclass <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
<span class='va'>s.out1</span>
</div><div class='output co'>#&gt; A matchit object
#&gt;  - method: Subclassification (10 subclasses)
#&gt;  - distance: Propensity score [common support]
#&gt;              - estimated with logistic regression
#&gt;  - common support: control units dropped
#&gt;  - number of obs.: 614 (original), 557 (matched)
#&gt;  - target estimand: ATT
#&gt;  - covariates: age, educ, race, nodegree, married, re74, re75</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>s.out1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; matchit(formula = treat ~ age + educ + race + nodegree + married + 
#&gt;     re74 + re75, data = lalonde, method = "subclass", distance = "glm", 
#&gt;     discard = "control", subclass = 10)
#&gt; 
#&gt; Summary of Balance for All Data:
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.1822          1.7941     0.9211    0.3774
#&gt; age              25.8162       28.0303         -0.3094     0.4400    0.0813
#&gt; educ             10.3459       10.2354          0.0550     0.4959    0.0347
#&gt; raceblack         0.8432        0.2028          1.7615          .    0.6404
#&gt; racehispan        0.0595        0.1422         -0.3498          .    0.0827
#&gt; racewhite         0.0973        0.6550         -1.8819          .    0.5577
#&gt; nodegree          0.7081        0.5967          0.2450          .    0.1114
#&gt; married           0.1892        0.5128         -0.8263          .    0.3236
#&gt; re74           2095.5737     5619.2365         -0.7211     0.5181    0.2248
#&gt; re75           1532.0553     2466.4844         -0.2903     0.9563    0.1342
#&gt;            eCDF Max
#&gt; distance     0.6444
#&gt; age          0.1577
#&gt; educ         0.1114
#&gt; raceblack    0.6404
#&gt; racehispan   0.0827
#&gt; racewhite    0.5577
#&gt; nodegree     0.1114
#&gt; married      0.3236
#&gt; re74         0.4470
#&gt; re75         0.2876
#&gt; 
#&gt; Summary of Balance Across Subclasses
#&gt;            Means Treated Means Control Std. Mean Diff. Var. Ratio eCDF Mean
#&gt; distance          0.5774        0.5710          0.0293     0.9338    0.0158
#&gt; age              25.8162       25.3714          0.0622     0.4577    0.0866
#&gt; educ             10.3459       10.4094         -0.0316     0.6894    0.0150
#&gt; raceblack         0.8432        0.8262          0.0469          .    0.0170
#&gt; racehispan        0.0595        0.0676         -0.0343          .    0.0081
#&gt; racewhite         0.0973        0.1062         -0.0302          .    0.0089
#&gt; nodegree          0.7081        0.6782          0.0658          .    0.0299
#&gt; married           0.1892        0.1785          0.0274          .    0.0107
#&gt; re74           2095.5737     2232.5096         -0.0280     1.3102    0.0449
#&gt; re75           1532.0553     1643.4179         -0.0346     1.4216    0.0472
#&gt;            eCDF Max
#&gt; distance     0.0541
#&gt; age          0.3043
#&gt; educ         0.0425
#&gt; raceblack    0.0170
#&gt; racehispan   0.0081
#&gt; racewhite    0.0089
#&gt; nodegree     0.0299
#&gt; married      0.0107
#&gt; re74         0.2731
#&gt; re75         0.1841
#&gt; 
#&gt; Percent Balance Improvement:
#&gt;            Std. Mean Diff. Var. Ratio eCDF Mean eCDF Max
#&gt; distance              98.4       -1.4      95.8     91.6
#&gt; age                   79.9       -4.0      -6.4    -92.9
#&gt; educ                  42.6      -39.0      56.7     61.9
#&gt; raceblack             97.3          .      97.3     97.3
#&gt; racehispan            90.2          .      90.2     90.2
#&gt; racewhite             98.4          .      98.4     98.4
#&gt; nodegree              73.1          .      73.1     73.1
#&gt; married               96.7          .      96.7     96.7
#&gt; re74                  96.1     -152.9      80.0     38.9
#&gt; re75                  88.1      -48.7      64.8     36.0
#&gt; 
#&gt; Sample Sizes:
#&gt;               Control Treated
#&gt; All            429.       185
#&gt; Matched (ESS)   72.59     185
#&gt; Matched        372.       185
#&gt; Unmatched        0.         0
#&gt; Discarded       57.         0
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Ho, Kosuke Imai, Gary King, Elizabeth Stuart, Noah Greifer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


